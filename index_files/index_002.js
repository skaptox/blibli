!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports={BWA_HOSTNAME:"https://bwa.blibli.com",BLIBLI_HOSTNAME:"www.blibli.com",MTA_HOSTNAME:"seller.blibli.com",CK_DOMAIN:".blibli.com",CK_SESSION_ACTION_SEQUENCE:"__bwa_session_action_sequence",CK_USER_ID:"__bwa_user_id",CK_SESSION_ID:"__bwa_session_id",CK_GCLID:"__bwa_session_gclid_data",CK_GCLSRC:"__bwa_session_gclsrc_data",CK_REFERRER:"__bwa_session_referrer_data",CK_UTM_CAMPAIGN:"__bwa_session_utm_campaign",CK_UTM_MEDIUM:"__bwa_session_utm_medium",CK_UTM_SOURCE:"__bwa_session_utm_source",CK_UTM_CONTENT:"__bwa_session_utm_content",CK_UTM_TERM:"__bwa_session_utm_term",CK_USER_SESSION_SEQUENCE:"__bwa_user_session_sequence",CK_CAMPAIGN_TYPE:"__bwa_session_campaign_type",CK_UTMA:"__utma",CK_UTMB:"__utmb"}},function(e,t,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0);e.exports={getUrlParamAsObject:function(){var e=window.location.search.substring(1).split("&"),t={};for(var n in e){var o=e[n].split("=");t[o[0]]=decodeURIComponent(o[1])}return t},generateUniqueId:function(e,t){return function(e){var t=0;if(0===e.length)return t;for(var n in e)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)}(t)+"."+e+"."+Math.floor(1e16*Math.random()+1)+"."+Math.round((new Date).getTime()/1e3)},getParameterURL:function(e,t){var n=t||this.getUrlParamAsObject(),i="object"===(void 0===e?"undefined":o(e))?e:[e];for(var r in i){var a=n[i[r]];if(a)return a}return""},getDiffMsBeforeMidnight:function(){var e=new Date;return(new Date).setHours(24,0,0,0)-e},setCookie:function(e,t,n){var o="expires="+function(e){var t=new Date;return t.setTime(t.getTime()+e),t}(n).toGMTString();document.cookie=e+"="+t+"; "+o+"; domain="+i.CK_DOMAIN+"; path=/"},getCookie:function(e){var t=e+"=",n=document.cookie.split(";");for(var o in n){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},getCookieAsNumber:function(e){return parseInt(this.getCookie(e),0)||0},deleteCookie:function(e,t){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; domain="+i.CK_DOMAIN+"; path=/"}}},function(e,t){var n="",o={iphone:["iphone","mobile"],ipod:["ipod","mobile"],ipad:["ipad","tablet"],macintosh:["macintosh","desktop"],androidPhone:["android","mobile"],androidTablet:["android","tablet"],blackberryTablet:["blackberry","tablet"],blackberryPhone:["blackberry","mobile"],windowsPhone:["windows","mobile"],windowsTablet:["windows","tablet"],windows:["windows","desktop"],linux:["linux","desktop"],other:["other","N/A"]},i={firefox:/firefox[/\s](\d+\.\d+)/,IE:/msie (\d+\.\d+);/,Chrome:/chrome[/\s](\d+\.\d+)/,Opera:/opera[/\s](\d+\.\d+)/,Safari:/safari[/\s](\d+\.\d+)/},r={ipod:function(){return/ipod/g.test(n)},ipad:function(){return/ipad/g.test(n)},iphone:function(){return/iphone/g.test(n)},macintosh:function(){return/macintosh/g.test(n)},androidPhone:function(){return/android/g.test(n)&&/mobile/g.test(n)},androidTablet:function(){return/android/g.test(n)&&!/mobile/g.test(n)},windowsPhone:function(){return/^.*?windows.*?((phone)|(mobile)).*?$/g.test(n)},windowsTablet:function(){return/^.*?windows.*?touch.*?$/g.test(n)},windows:function(){return/windows/g.test(n)},linux:function(){return/linux/g.test(n)},blackberryTablet:function(){return/((blackberry)|(bb10)|(rim))/g.test(n)&&/tablet/g.test(n)},blackberryPhone:function(){return/((blackberry)|(bb10)|(rim))/g.test(n)&&!/tablet/g.test(n)}};e.exports={init:function(){return n=window.navigator.userAgent.toLowerCase(),this},getDeviceInfo:function(){var e=function(){for(var e in r)if(r[e]())return e;return"other"}();return{device:o[e][0],type:o[e][1]}},getBrowserInfo:function(){for(var e in i)if(i[e].test(n))return{browser:e,version:RegExp.$1};return{browser:"Other Browser",version:"N/A"}}}},function(e,t,n){var o=n(0),i=n(1),r=18e5,a=63072e6,s=["www.google."],u="",_={utm_campaign:["utm_campaign"],utm_medium:["utm_medium","refid"],utm_source:["utm_source","source"],utm_content:["utm_content"],utm_term:["utm_term"]},c=[o.CK_GCLID,o.CK_GCLSRC,o.CK_REFERRER,o.CK_UTM_CAMPAIGN,o.CK_UTM_MEDIUM,o.CK_UTM_SOURCE,o.CK_UTM_CONTENT,o.CK_UTM_TERM,o.CK_CAMPAIGN_TYPE];function C(e){var t=Math.min(r,i.getDiffMsBeforeMidnight());i.setCookie(o.CK_SESSION_ID,e,t)}function d(e){var t=Math.min(r,i.getDiffMsBeforeMidnight());i.setCookie(o.CK_SESSION_ACTION_SEQUENCE,e,t)}function f(e,t){i.setCookie(e,t,r)}function m(){for(var e in c)i.deleteCookie(c[e])}function g(){var e=window.document.referrer,t=i.getCookie(o.CK_REFERRER);if(e&&function(e){for(var t in s)if(-1!==e.indexOf(s[t]))return!0}(e)&&e!==t)return m(),f(o.CK_REFERRER,e),f(o.CK_CAMPAIGN_TYPE,"referrals"),!0}function w(e,t){return i.getParameterURL(_[e],t)}e.exports={init:function(e){u=e},getBwaUserSessionSequence:function(){return i.getCookieAsNumber(o.CK_USER_SESSION_SEQUENCE)},getBwaUserId:function(){return i.getCookie(o.CK_USER_ID)},getBwaSessionId:function(){return i.getCookie(o.CK_SESSION_ID)},getBwaSessionActionSequence:function(){return i.getCookieAsNumber(o.CK_SESSION_ACTION_SEQUENCE)},updateCampaignSession:function(){((function(){var e=i.getParameterURL("gclid"),t=i.getCookie(o.CK_GCLID);if(e&&e!==t)return m(),f(o.CK_GCLID,e),f(o.CK_GCLSRC,i.getParameterURL("gclsrc")),f(o.CK_CAMPAIGN_TYPE,"adwords-autotagging"),!0})()||g()||function(){var e=i.getUrlParamAsObject(),t=w("utm_campaign",e),n=w("utm_medium",e),r=w("utm_source",e),a=w("utm_content",e),s=w("utm_term",e);if((t||n||r||a||s)&&(t!==i.getCookie(o.CK_UTM_CAMPAIGN)||n!==i.getCookie(o.CK_UTM_MEDIUM)||r!==i.getCookie(o.CK_UTM_SOURCE)||a!==i.getCookie(o.CK_UTM_CONTENT)||s!==i.getCookie(o.CK_UTM_TERM)))return m(),f(o.CK_UTM_CAMPAIGN,t),f(o.CK_UTM_MEDIUM,n),f(o.CK_UTM_SOURCE,r),f(o.CK_UTM_CONTENT,a),f(o.CK_UTM_TERM,s),f(o.CK_CAMPAIGN_TYPE,"campaign-tags"),!0}())&&i.deleteCookie(o.CK_SESSION_ID)},updateBwaSessionId:function(){var e=this.getBwaSessionId();if(!e)return d(0),C(i.generateUniqueId("S",u)),function(e){i.setCookie(o.CK_USER_SESSION_SEQUENCE,e,a)}(this.getBwaUserSessionSequence()+1),!0;C(e)},updateBwaUserId:function(){!function(e){i.setCookie(o.CK_USER_ID,e,a)}(this.getBwaUserId()||i.generateUniqueId("U",u))},incBwaSessionActionSequence:function(){d(this.getBwaSessionActionSequence()+1)}}},function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(3),r=n(2),a=n(0),s=n(1),u="",_={},c={},C={},d={default:"default","-1002":"g"};function f(e,t,n){var o=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");o.open(e,t,!0),o.send(n)}function m(){i.updateBwaUserId(),i.updateCampaignSession(),i.updateBwaSessionId()&&g.push({event:{path:"/session",customParams:{pageurl:document.URL,prevurl:document.referrer,referrer:s.getCookie(a.CK_REFERRER),gclid:s.getCookie(a.CK_GCLID),gclsrc:s.getCookie(a.CK_GCLSRC),utm_campaign:s.getCookie(a.CK_UTM_CAMPAIGN),utm_medium:s.getCookie(a.CK_UTM_MEDIUM),utm_source:s.getCookie(a.CK_UTM_SOURCE),utm_content:s.getCookie(a.CK_UTM_CONTENT),utm_term:s.getCookie(a.CK_UTM_TERM),campaign_type:s.getCookie(a.CK_CAMPAIGN_TYPE),usersessionsequence:i.getBwaUserSessionSequence()}}})}var g={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.find(function(e){return e.accountId});for(var n in u=t?t.accountId:function(){var e=window.document.URL;return e.indexOf(a.MTA_HOSTNAME)>-1?"blibli-MTA":(e.indexOf(a.BLIBLI_HOSTNAME),"blibli-Seoul")}(),i.init(u),r.init(),_=r.getDeviceInfo(),c=r.getBrowserInfo(),e)this.push({data:e[n].data||{}});for(var o in e)this.push({event:e[o].event||{}});return this},push:function(e){if(e.data&&o(C,e.data),e.event&&(e.event.manageSession&&m(),e.event.incSessionActionSequence&&i.incBwaSessionActionSequence(),e.event.path)){var t={pageurl:window.document.URL,clientmembertype:d[C.clientmemberid]||"m",accountid:u,utma:s.getCookie(a.CK_UTMA),utmb:s.getCookie(a.CK_UTMB),userid:i.getBwaUserId(),sessionid:i.getBwaSessionId(),sessionactionsequence:i.getBwaSessionActionSequence(),device:_.device,devicetype:_.type,browser:c.browser,browserversion:c.version};o(t,function(e){var t=e||[],n={};for(var o in t){var i=t[o];n[i]=C[i]||""}return n}(e.event.dataParams)||{}),o(t,e.event.customParams||{});var n=function(e){var t="";for(var n in e)""!==t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t}(t);e.event.pixel?encodeURIComponent(n).length>1800?f("POST",a.BWA_HOSTNAME+"/track-pixel"+e.event.path,n):f("GET",a.BWA_HOSTNAME+"/track-pixel"+e.event.path+"?"+n,""):f("GET",a.BWA_HOSTNAME+"/track"+e.event.path+"?"+n,"")}}};e.exports=g},function(e,t,n){var o=n(4);window._bwa=o.init(window._bwa)}]);